# ü•ä –ë–∏—Ç–≤–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ (Telegram Bot MVP)

–£—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞, –∏ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —É–≥–∞–¥–∞—Ç—å, –∫–∞–∫–æ–π –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è –µ—ë –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.  

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–¥–º–∏–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É –∏ –∑–∞–¥–∞—ë—Ç –∏—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç.
- –í—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–∞—Å—Å—ã–ª–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ ‚Üí –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞—É–Ω–¥.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–∏—Å—ã–ª–∞—é—Ç —Å–≤–æ–∏ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–º–ø—Ç–∞ (3 –ø–æ–ø—ã—Ç–∫–∏, –¥–∞–ª—å—à–µ –Ω–µ–ª—å–∑—è).
- –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É (–≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ ‚Äî —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 100).
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—ã–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ **Excel** (–Ω–∏–∫, –ø—Ä–æ–º–ø—Ç, –æ—á–∫–∏).
- –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞—É–Ω–¥–∞ –±–æ—Ç —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –∫–∞–∂–¥–æ–º—É –∏–≥—Ä–æ–∫—É –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç + –∏—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ä–∞—É–Ω–¥–æ–≤**.
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î.
- –ê–≤—Ç–æ–ø–æ–¥—Å—á—ë—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π –∏ –≤—ã–≤–æ–¥ –≤—Å–µ–º –∫—Ä–∞—Å–∏–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∞–≤–∞—Ç–∞—Ä–∫–æ–π –∏ –±–∞–ª–ª–∞–º–∏ –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ –ø–µ—Ä–≤—ã—Ö 3 –º–µ—Å—Ç. 

## üìñ –ö–æ–º–∞–Ω–¥—ã

### –ê–¥–º–∏–Ω
/start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
/help - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
/startgame 
1. –ü—Ä–∏—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ"
2. "–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ"
3. –ü—Ä–∏—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã —Å–•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î —Ñ–æ—Ç–æ –∏ –ø—Ä–æ–º–ø—Ç–æ–º. –ê —Ç–∞–∫ –∂–µ 5-–∑–Ω–∞—á–Ω—ã–π ID –¥–ª—è –∏–≥—Ä—ã, –ø—Ä–∏–º–µ—Ä AAAAA
/stopgame AAAAA - –∏–≥—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è
/excel - —ç–∫—Å–ø–æ—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ Excel

###
/start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
/help - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
/join AAAAA - –ü—Ä–∏—Å—ã–ª–∞–µ—Ç—Å—è —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ—Ç–æ–≤ –∏ –æ–∂–∏–¥–∞–µ—Ç—Å—è –Ω–∞—á–∞–ª–æ –∏–≥—Ä—ã. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

## üì¶ –ü—Ä–∏–º–µ—Ä Excel

| –Ω–∏–∫     | –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç        | –æ—á–∫–∏ |
| ------- | -------------------------- | ---- |
| user123 | a cat sitting on the table | 78   |
| anna    | kitten on wooden desk      | 65   |
| ivan    | dog in the park            | 12   |


# –î–æ–±–∞–≤–∏—Ç—å/–ò—Å–ø—Ä–∞–≤–∏—Ç—å
1. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¢–ì–ö —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞—Ä—Ç–∞.
–ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–ª –∏–≥—Ä—É, —é–∑–µ—Ä –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –æ—Ç–≥–∞–¥–∞—Ç—å –∏ –∂–¥—ë—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã.
3. –£–±—Ä–∞—Ç—å –∫–æ–¥—ã –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–≥—Ä–µ
/start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
–∫–Ω–æ–ø–∫–∞ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
–°—Ç–∞—Ä—Ç - 3 –ø–æ–ø—ã—Ç–∫–∏ 
–æ—Ç–≤–µ—Ç –æ–∂–∏–¥–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
5. –£–±—Ä–∞—Ç—å –ª–∏–¥–µ—Ä–±–æ—Ä–¥
6. –°–¥–µ–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞—á–∞–ª–µ —Å–ª–µ–¥—É—é—â–µ–π –∏–≥—Ä—ã.
7. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ª—É—á—à–µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
8. 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤—ã–≥—Ä—É–∑–∫–∏
    1. –í—ã–≥—Ä—É–∑–∫–∞ –ª—É—á—à–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
    2. –≤—ã–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
9. –°–∏–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–¥ –Ω–∏–∂–µ
```
from sentence_transformers import SentenceTransformer, util

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
model = SentenceTransformer('stsb-roberta-large')

def get_similarity_score(sentence1, sentence2):
    """
    –í—ã—á–∏—Å–ª—è–µ—Ç –±–∞–ª–ª —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞ –º–µ–∂–¥—É –¥–≤—É–º—è —Ñ—Ä–∞–∑–∞–º–∏.
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 100.
    """
    # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–∑ –≤ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
    embedding1 = model.encode(sentence1, convert_to_tensor=True)
    embedding2 = model.encode(sentence2, convert_to_tensor=True)

    # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞
    cosine_score = util.pytorch_cos_sim(embedding1, embedding2)[0][0]

    # –ü—Ä–∏–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫ –¥–∏–∞–ø–∞–∑–æ–Ω—É [0, 100], –≥–¥–µ 0 - –Ω–µ—Ç —Å—Ö–æ–¥—Å—Ç–≤–∞.
    score = max(0, cosine_score) * 100
    return int(score)
```